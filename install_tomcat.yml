---

- hosts: all
  become: true
  tasks:

  - name: Ensure the JDK 17 installed
    apt:
      name: openjdk-17-jre-headless
      state: latest
    when: ansible_distribution == 'Ubuntu'


  - name: Download tomcat and configure
    get_url:
      url: https://archive.apache.org/dist/tomcat/tomcat-9/v9.0.98/bin/apache-tomcat-9.0.98.tar.gz
      dest: /tmp/apache-tomcat-9.0.98.tar.gz
  
  - name: Extract tomcat
    unarchive:
      src: /tmp/apache-tomcat-9.0.98.tar.gz
      dest: /opt/
      remote_src: yes
    
  
  
    
